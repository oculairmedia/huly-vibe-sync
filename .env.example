# Huly API Configuration
# Use REST API for better performance and incremental sync support
HULY_API_URL=http://192.168.50.90:3457/api
HULY_USE_REST=true

# Legacy MCP URL (used if HULY_USE_REST=false)
# HULY_MCP_URL=http://192.168.50.90:3457/mcp

# Vibe Kanban MCP Server
VIBE_MCP_URL=http://192.168.50.90:9717/mcp

# Vibe Kanban API
VIBE_API_URL=http://192.168.50.90:3105/api

# Sync Configuration
# Sync interval in milliseconds (10000 = 10 seconds, 0 = run once and exit)
# Note: First full sync takes ~2-3 minutes, subsequent incremental syncs are ~3-5 seconds
SYNC_INTERVAL=10000

# Incremental sync (true = only fetch issues modified since last sync)
INCREMENTAL_SYNC=true

# Parallel processing (experimental - processes multiple projects concurrently)
PARALLEL_SYNC=true
MAX_WORKERS=5

# Skip empty projects (true = skip projects with 0 issues after first detection)
SKIP_EMPTY_PROJECTS=true

# API delay between calls in milliseconds (10 = default, reduces from 50ms to save time)
API_DELAY=10

# Health check server port (for monitoring)
HEALTH_PORT=3099

# Dry run mode (true = don't make changes, just log what would happen)
DRY_RUN=false

# Stacks base directory
STACKS_DIR=/opt/stacks

# Letta API Configuration
LETTA_BASE_URL=https://letta2.oculair.ca/v1
LETTA_PASSWORD=your_letta_password_here

# Optional Letta Configuration
# LETTA_MODEL=openai/gpt-4.1
# LETTA_EMBEDDING=openai/text-embedding-3-small

# Control Agent Configuration
# All PM agents will sync their tools and persona from this control agent
# You can modify this agent manually to control all PM agents
LETTA_CONTROL_AGENT=Huly-PM-Control

# MCP Server URLs for Letta tools
HULY_MCP_URL=http://192.168.50.90:3457/mcp
# VIBE_MCP_URL already defined above

# Letta feature flags
LETTA_ATTACH_REPO_DOCS=true
LETTA_SEND_MESSAGES=false

# Agent sleeptime configuration
# Enable sleeptime agents for background learning from conversation history
# Set to 'false' to create standard agents without sleeptime
LETTA_ENABLE_SLEEPTIME=false
LETTA_SLEEPTIME_FREQUENCY=5

# ============================================================================
# Graphiti Knowledge Graph Integration
# ============================================================================

# Enable Graphiti integration (disabled by default)
GRAPHITI_ENABLED=false

# Graphiti API URL
GRAPHITI_API_URL=http://localhost:8003

# Group ID prefix for entity isolation (project identifier is appended)
# Example: vibesync_huly-vibe-sync
GRAPHITI_GROUP_ID_PREFIX=vibesync_

# API timeout in milliseconds
GRAPHITI_TIMEOUT=30000

# Number of retry attempts for failed requests
GRAPHITI_RETRIES=3

# ============================================================================
# Code Perception (Real-time code indexing to Graphiti)
# ============================================================================

# Enable code perception watcher (requires GRAPHITI_ENABLED=true)
CODE_PERCEPTION_ENABLED=false

# Debounce delay in milliseconds (wait before processing changes)
CODE_PERCEPTION_DEBOUNCE_MS=2000

# Batch size for entity upserts (prevents API flooding)
CODE_PERCEPTION_BATCH_SIZE=50

# Maximum file size to process in KB (skip larger files)
CODE_PERCEPTION_MAX_FILE_SIZE_KB=500
